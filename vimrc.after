" This makes the cmd-t feature work more good
let g:ctrlp_working_path_mode = 0

" Don't show unnecessary stuff in the NERDTree
let NERDTreeIgnore=['\.o$', '\~$', '\.git/','\.swp$','\.pyc$']

" Force some filetypes to load
au BufRead,BufNewFile *.html set filetype=htmljinja
au BufRead,BufNewFile *.wsgi set filetype=python
au BufRead,BufNewFile *.json set filetype=json
au BufRead,BufNewFile *.vcl set filetype=vcl
au BufRead,BufNewFile *.scss set filetype=scss

au BufRead,BufNewFile *nginx* set ft=nginx
au BufRead,BufNewFile *apache* set ft=apache

" Make sure our tabbing rules are enforced
au BufRead,BufNewFile * set tw=0 textwidth=0
au BufEnter *.php set noexpandtab shiftwidth=4 tabstop=4
au BufEnter *.py set expandtab
au BufEnter *.wsgi set expandtab
au BufEnter *.md set expandtab shiftwidth=4 tabstop=4 softtabstop=4

" These shouldn't actually work
"au BufEnter python set expandtab shiftwidth=4 tabstop=4 softtabstop=4
"au BufEnter css,scss set expandtab shiftwidth=4 tabstop=4 softtabstop=4
"au BufEnter javascript set expandtab shiftwidth=2 tabstop=2 softtabstop=2
"au BufEnter json set expandtab shiftwidth=2 tabstop=2 softtabstop=2
"au BufEnter php set expandtab shiftwidth=2 tabstop=2 softtabstop=2

" I don't know what this does
"augroup json_autocmd
    "autocmd!
    "autocmd FileType json set autoindent
    "autocmd FileType json set formatoptions=tcq2l
    "autocmd FileType json set textwidth=78 shiftwidth=2
    "autocmd FileType json set softtabstop=2 tabstop=8
    "autocmd FileType json set expandtab
    "autocmd FileType json set foldmethod=syntax
"augroup END

set wrap

let g:ackprg="ack -H --nocolor --nogroup --column --type-add coffee=.coffee --type-add sass=.sass,.scss"

" ignore stuff in cmd+t/ctrl-p
set wildignore+=/.DS*,*.o,*.jpg,*.jpeg,*.png,*.gif,*.psd,*.pyc,*.bz2,*.gz,*.zip,*.ico,*.tgz

" Use the fancy symbols. You need to use one of the hacked fonts. Works in Terminal and over ssh.
let g:Powerline_symbols = 'fancy'

" Enable spell check
au BufEnter * setlocal nospell
au BufEnter *.html setlocal spell spelllang=en_us
au BufEnter *.md setlocal spell spelllang=en_us
au BufEnter *.txt setlocal spell spelllang=en_us
au BufEnter *.json setlocal spell spelllang=en_us

set sessionoptions-=options

" Enable mouse in the terminal and over ssh (if it's setup properly)
set mouse=a

" Moar pretty
set t_Co=256

" Set terminal title
let &titlestring = fnamemodify(getcwd(), ":t")
set t_ts=]1;
set t_fs=
set title

" HTML Indenting
filetype plugin indent on

" Format CSS
autocmd filetype css setlocal equalprg=csstidy\ -\ --silent=true\ --sort_properties=true

"make esc deselect everything
"nnoremap <esc> :noh<return><esc>

"Automatically load .lvimrc files
let g:localvimrc_ask=0
